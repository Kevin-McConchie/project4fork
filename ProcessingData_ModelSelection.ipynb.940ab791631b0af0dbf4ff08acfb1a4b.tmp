#--------------------#
# MULTICOLLINEARITY  #
#--------------------#
#VIF starts at 1, and if the 10 value is exceeded, that will indicate high multicollinearity between the independent variables.

def calculate_vif(X):
# Calculating Variable Inflation Factors
    vif = pd.DataFrame()
    vif["variables"] = X.columns
    vif["Variable Inflation Factors"] = [variance_inflation_factor(X.values, i)
    for i in range(X.shape[1])]
    return(vif)

ds_vif = processed_df[['internetservice','totallongdistancecharges','paperlessbilling','gender','totalcharges','monthlycharge','number_of_dependents','multiplelines','onlinesecurity','onlinebackup','deviceprotectionplan','avgmonthlygbdownload','avgmonthlylongdistancecharges','age','premiumtechsupport','streamingtv','streamingmovies','streamingmusic','unlimiteddata','married','tenureinmonths', 'phoneservice','numberofreferrals','offer','contract','paymentmethod','internettype']]

vif = calculate_vif(ds_vif)
print(vif)