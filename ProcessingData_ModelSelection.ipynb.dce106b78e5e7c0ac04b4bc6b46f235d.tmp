# Feature Selection:
    # isolate x variables for feature selection tests
data_df_kd = data_df.copy()   
data_df_kd = data_df_kd.drop(['totalrefunds', 'paperlessbilling', 'zipcode', 'latitude', 'longtitude', 'city'],axis=1).set_index('customerid')

# Test of multicollinearity of numeric variables
# Isolate numeric variables for correlation analysis:
numeric_types_kd = ['int16', 'int32', 'int64', 'float16', 'float32', 'float64']
X_numeric_kd = data_df_kd.select_dtypes(include=numeric_types_kd)


plt.figure(50, figsize=(50, 30))

# Create correlation matrix for numeric features
corrmatrix_kd = X_numeric_kd.corr()
# sn.set(rc = {'figure.figsize':(15,8)})
mask_kd = np.triu(np.ones_like(corrmatrix_kd, dtype=bool))
sns.heatmap(corrmatrix_kd, mask=mask_kd, annot=True)
plt.show()